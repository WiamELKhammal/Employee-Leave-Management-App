<div class="employee-container">
  <div class="header">
    <h2>Employee Management</h2>
    <button class="add-btn" (click)="openModal()">Add Employee</button>
  </div>

  <div class="employee-card">
    <h4 class="sub-heading">Employee List</h4>

    <div class="employee-table-wrapper">
      <table class="employee-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>NAME</th>
            <th>EMAIL</th>
            <th>CONTACT</th>
            <th>DEPARTMENT</th>
            <th>GENDER</th>
            <th>ROLE</th>
            <th>ACTIONS</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let emp of employees; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ emp.employeeName }}</td>
            <td>{{ emp.emailId }}</td>
            <td>{{ emp.contactNo }}</td>
            <td>{{ emp.deptName }}</td>
            <td>{{ emp.gender || '-' }}</td>
            <td>{{ emp.role }}</td>
            <td class="action-buttons">
              <button class="edit-btn">Edit</button>
              <button class="delete-btn" (click)="deleteEmployee(emp.employeeId)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- Add Employee Modal -->
<div class="modal" *ngIf="isModalOpen">
  <div class="modal-content">
    <h3>Add New Employee</h3>
    <form (ngSubmit)="submitNewEmployee()">
      <div class="form-group">
        <label>Employee Name</label>
        <input type="text" [(ngModel)]="newEmployee.employeeName" name="employeeName" required />
      </div>

      <div class="form-group">
        <label>Email ID</label>
        <input type="email" [(ngModel)]="newEmployee.emailId" name="emailId" required />
      </div>

      <div class="form-group">
        <label>Contact Number</label>
        <input type="text" [(ngModel)]="newEmployee.contactNo" name="contactNo" required />
      </div>

      <div class="form-group">
        <label>Department</label>
        <select [(ngModel)]="newEmployee.deptId" name="deptId" required>
          <option value="">-- Select Department --</option>
          <option *ngFor="let d of departments" [value]="d.deptId">{{ d.deptName }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>Gender</label>
        <select [(ngModel)]="newEmployee.gender" name="gender" required>
          <option value="">-- Select Gender --</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
        </select>
      </div>

      <div class="form-group">
        <label>Role</label>
        <select [(ngModel)]="newEmployee.role" name="role" required>
  <option value="">-- Select Role --</option>
  <option *ngFor="let r of roles" [value]="r">{{ r }}</option>
</select>

      </div>


      <div class="form-group">
        <label>Password</label>
        <input type="password" [(ngModel)]="newEmployee.password" name="password" required />
      </div>

      <div class="form-actions">
        <button type="submit" class="add-btn">Submit</button>
        <button type="button" class="delete-btn" (click)="closeModal()">Cancel</button>
      </div>
    </form>
  </div>
</div>
